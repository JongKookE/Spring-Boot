<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<button id = "sendEmp">Send Emp</button>
	<button id = "sendEmpList">Send Emp List</button>
	<button id = "receiveEmp">Receive Emp</button>
	<button id = "receiveEmpList">Receive Emp List</button>
<script>
	let emp = {
			employeeId: 1,
			firstName: "길동",
			lastName: "홍",
			email: "hong@gildong.com",
			hireDate: "2023-01-01"
	};
	
	let empList = [
		{
			employeeId: 2,
			firstName: "길동",
			lastName: "이",
			email: "lee@gildong.com",
			hireDate: "2023-01-01"
		},
		{
			employeeId: 3,
			firstName: "길동",
			lastName: "삼",
			email: "sam@gildong.com",
			hireDate: "2023-01-01"
		},
		{
			employeeId: 2,
			firstName: "길동",
			lastName: "사",
			email: "four@gildong.com",
			hireDate: "2023-01-01"
		}
	];
	
	window.onload = function()	{
		document.querySelector("#sendEmp").onclick = async function(){
			let fetchOptions = {
					method: "POST",
					headers: {
						"Content-Type": "application/json"						
					},
					body: JSON.stringify(emp)
			};
			
			try{
				let response = await fetch("/emp", fetchOptions);
				let data = await response.json();
				console.log(data);
			} catch(error){
				console.log(error);
			}			
		}
		
		document.querySelector("#sendEmpList").onclick = async function(){
			let fetchOptions = {
					method: "POST",
					headers: {
						"Content-Type": "application/json"						
					},
					body: JSON.stringify(empList)
			};
			
			try{
				let response = await fetch("/empList", fetchOptions);
				let data = await response.json();
				console.log(data);
			} catch(error){
				console.log(error);
			}			
		}
		
		document.querySelector("#receiveEmp").onclick = async function(){
			try{
				let response = await fetch("/empDetail/1");
				let data = await response.json();
				console.log(data);
			} catch(error){
				console.log(error);
			}			
		}
		
		document.querySelector("#receiveEmpList").onclick = async function(){
			try{
				let response = await fetch("/empList");
				let data = await response.json();
				console.log(data);
			} catch(error){
				console.log(error);
			}			
		}
	}
</script>
	
</body>
</html>